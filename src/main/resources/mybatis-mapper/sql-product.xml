<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.anesi.mapper.ProductMapper">
	<!-- 상품데이터 가져오는 쿼리 -->
	<select id="selectProduct" parameterType="hashmap" resultType="com.example.anesi.model.Product">
		SELECT * 
		FROM t3_tbl_product AS P
		JOIN t3_tbl_product_category AS C ON P.CATEGORY_NO = C.CATEGORY_NO
		
		LEFT JOIN 
			(SELECT PRODUCT_NO, PRODUCT_PRICE * (100-DISCOUNT)/100 AS DISCOUNT_PRICE
			FROM t3_tbl_product 
			WHERE DISCOUNT_YN = 'Y')
			
		AS D ON P.PRODUCT_NO = D.PRODUCT_NO
	</select>
	

	
	
	
	
</mapper>